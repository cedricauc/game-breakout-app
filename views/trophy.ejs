<%- include('./partials/nav', {user: user, flag:flag, gamesNbr:gamesNbr, lives:lives, level:level, action:'trophy'}) %>

<main class="position-static">

    <!-- section -->
    <section class="position-static bg-transparent" id="section-trophy">
        <div class="container">
            <% if(allUsers.length >= 3) { %>
                <div class="position-relative m-5 leaderboard">
                    <div>
                        <div class="d-flex leader">
                            <div class="container">
                                <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186039.png" alt="186039">
                                <div class="crown">
                                    <svg id="crown1" fill="#0f74b5" data-name="Layer 1"
                                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                        <polygon class="cls-1"
                                                 points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                                    </svg>
                                </div>
                                <div class="text-light fw-bold fs-6"><%= allUsers[0].username %></div>
                            </div>
                        </div>
                        <div class="d-flex leader">
                            <div class="container">
                                <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186040.png" alt="186039">
                                <div class="crown">
                                    <svg id="crown2" fill="#0f74b5" data-name="Layer 1"
                                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                        <polygon class="cls-1"
                                                 points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                                    </svg>
                                </div>
                                <div class="text-light fw-bold fs-6"><%= allUsers[1].username %></div>
                            </div>
                        </div>
                        <div class="d-flex leader">
                            <div class="container">
                                <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186041.png" alt="186039">
                                <div class="crown">
                                    <svg id="crown3" fill="#0f74b5" data-name="Layer 1"
                                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                        <polygon class="cls-1"
                                                 points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                                    </svg>
                                </div>
                                <div class="text-light fw-bold fs-6"><%= allUsers[2].username %></div>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
            <div class="mt-5 d-flex justify-content-center align-items-center flex-column">
                <table class="table table-dark table-striped text-center fs-6">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Pseudo</th>
                        <th scope="col">High Score</th>
                        <th scope="col">Temps de jeu</th>
                    </tr>
                    </thead>
                    <tbody>
                    <% allUsers.forEach((itr, index) => { %>
                        <%
                            let minutes = Math.floor(itr.timePlay / 60);
                            minutes = minutes < 10 ? "0" + minutes : minutes;
                        %>
                        <tr>
                            <th scope="row"><%= index + 1 %></th>
                            <td><%= itr.username %></td>
                            <td><%= itr.lastScore %></td>
                            <td><%= minutes %> minutes</td>
                        </tr>
                    <% }) %>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

</main>



