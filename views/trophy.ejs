<%- include('./partials/nav', {flag:flag, lives:lives, level:level, action:'trophy'}) %>
<!-- section -->
<section class="bg-transparent my-2" id="section-trophy">
    <% if(allUsers.length >= 3) { %>
        <div class="position-relative my-5 mx-5 leaderboard">
            <div class="d-flex  pb-4">
                <div class="d-flex leader">
                    <div class="container">
                        <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186039.png">
                        <div class="crown">
                            <svg id="crown1" fill="#0f74b5" data-name="Layer 1"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                <polygon class="cls-1"
                                         points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                            </svg>
                        </div>
                        <div class="text-light fw-bold"><%= allUsers[0].username %></div>
                    </div>
                </div>
                <div class="d-flex leader">
                    <div class="container">
                        <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186040.png">
                        <div class="crown">
                            <svg id="crown1" fill="#0f74b5" data-name="Layer 1"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                <polygon class="cls-1"
                                         points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                            </svg>
                        </div>
                        <div class="text-light fw-bold"><%= allUsers[1].username %></div>
                    </div>
                </div>
                <div class="d-flex leader">
                    <div class="container">
                        <img class="img-thumbnail bg-dark border-info rounded-circle" src="./assets/186041.png">
                        <div class="crown">
                            <svg id="crown1" fill="#0f74b5" data-name="Layer 1"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
                                <polygon class="cls-1"
                                         points="12.7 50 87.5 50 100 0 75 25 50 0 25.6 25 0 0 12.7 50"></polygon>
                            </svg>
                        </div>
                        <div class="text-light fw-bold"><%= allUsers[2].username %></div>
                    </div>
                </div>
            </div>
        </div>
    <% } %>
    <div class=" position-static mt-5 d-flex justify-content-center align-items-center flex-column">
        <table class="table table-dark table-striped text-center">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Pseudo</th>
                <th scope="col">High Score</th>
                <th scope="col">Temps de jeu</th>
            </tr>
            </thead>
            <tbody>
            <% allUsers.forEach((itr, index) => { %>
                <%
                    let minutes = Math.floor(itr.timePlay / 60);
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                %>
                <tr>
                    <th scope="row"><%= index + 1 %></th>
                    <td><%= itr.username %></td>
                    <td><%= itr.bestScore %></td>
                    <td><%= minutes %> minutes</td>
                </tr>
            <% }) %>
            </tbody>
        </table>
    </div>
</section>



